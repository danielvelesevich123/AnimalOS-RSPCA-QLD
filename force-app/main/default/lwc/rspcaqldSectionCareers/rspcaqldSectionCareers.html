<template>
    <div class="page-careers">
        <div class="page-careers-positions wide-width">
            <h1>Available positions</h1>
<!--            <div class="page-careers-positions-filter-links">-->
<!--                <template for:each={categories} for:item="category">-->
<!--                    <a class={category.class} key={category.label} data-value={category.label} onclick={handleFilterClick}>{category.label}</a>-->
<!--                </template>-->
<!--            </div>-->
            <div class="medium-width page-filters">
                <div class="cards-filters">
                    <div class="main">
                        <div class="large"><c-rspcaqld-picklist read-only multiselect data-name="category" onchange={handleFilterChange} label="Position Category" placeholder="All" options={categories} value={categoryFilter}></c-rspcaqld-picklist></div>
                        <div class="large"><c-rspcaqld-picklist read-only multiselect data-name="location" onchange={handleFilterChange} label="Location" placeholder="All" options={locations} value={locationFilter}></c-rspcaqld-picklist></div>
                        <div class="reset-link"><a onclick={handleReset}><span class="xmedium">Reset</span><img src={closeDark} class="small"></a></div>
                    </div>
                </div>
            </div>
            <c-rspcaqld-cards-results-meta onorderchange={handleOrderChange}
                                           onorderdirectionchange={handleOrderDirectionChange}
                                           view-result={viewCount}
                                           all-result={allCount}
                                           order-value={orderOption}
                                           order-direction={orderDirection}
                                           order-options={orderOptions}></c-rspcaqld-cards-results-meta>
            <div class="page-careers-positions-block">
                <template if:true={isLoaded}>
                    <template if:false={isFilterFound}>
                        <h3>Oops! We don’t have the position you’re looking for right now. Please check back soon!</h3>
                    </template>
                    <template for:each={pages} for:item="page">
                        <template if:true={page.displayed} key={page.pageNumber}>
                            <template for:each={page.cards} for:item="card">
                                <c-rspcaqld-cards-tile key={card.key} address={card.location} display-icon title={card.title} link={card.link}></c-rspcaqld-cards-tile>
                            </template>
                        </template>
                    </template>
                </template>
            </div>
        </div>
        <div class="wide-width page-pagination">
            <c-rspcaqld-cards-pagination onpagechange={handlePageChange} page-count={pageCount} current-page={currentPage}></c-rspcaqld-cards-pagination>
        </div>
    </div>
</template>