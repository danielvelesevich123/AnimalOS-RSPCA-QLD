<template>
    <div class="page-articles background-20">
        <div class="medium-width page-filters">
            <div class="cards-filters">
                <div class="main">
                    <div class="large"><lightning-input onchange={handleSearchChange} type="text" label="Search" placeholder="Enter keywords" class="input-inline" value={searchFilter}></lightning-input></div>
                    <template if:true={isCategories}><div class="large"><c-rspcaqld-picklist multiselect data-name="category" onchange={handleCategoryChange} label="Category" placeholder="Pick a category" options={categories} value={categoryFilter}></c-rspcaqld-picklist></div></template>

                    <div class="reset-link"><a onclick={handleReset}><span class="xmedium">Reset</span><img src={closeDark} class="small"></a></div>
                </div>
            </div>
        </div>
        <div class="medium-width page-find-pet-results-meta">
            <c-rspcaqld-cards-results-meta onorderchange={handleOrderChange}
                                           onorderdirectionchange={handleOrderDirectionChange}
                                           view-result={viewCount}
                                           all-result={allCount}
                                           order-value={orderOption}
                                           order-direction={orderDirection}
                                           order-options={orderOptions}></c-rspcaqld-cards-results-meta>
        </div>
        <div class="medium-width page-article-results">
            <template for:each={pages} for:item="page">
                <template if:true={page.displayed} key={page.pageNumber}>
                    <template for:each={page.cards} for:item="card">
                        <div key={card.key}>
                            <c-rspcaqld-cards-article key={card.key} is-white
                                                      link={card.link}
                                                      image-url={card.image}
                                                      header={card.title}
                                                      description={card.excerpt}
                                                      is-category={isCardCategory}
                                                      category={card.typeAndCategory}
                                                      is-large={card.isLarge}></c-rspcaqld-cards-article>
                        </div>
                    </template>
                </template>
            </template>
        </div>
        <div class="medium-width page-pagination">
            <c-rspcaqld-cards-pagination onpagechange={handlePageChange} page-count={pageCount} current-page={currentPage}></c-rspcaqld-cards-pagination>
        </div>
    </div>
</template>