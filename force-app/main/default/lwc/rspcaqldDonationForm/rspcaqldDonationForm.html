<template>
    <div class={containerClass}>
        <div class="donation-form">
            <div class="donation-form-navigation">
                <div class={amountNavClass} data-name="amount" onclick={handleNavigation}><img class="medium" src={handsDollarBlue}><span class="normal">Amount</span></div>
                <div class={detailsNavClass} data-name="details" onclick={handleNavigation}><img class="medium" src={personBlue}><span class="normal">Your details</span></div>
                <div class={paymentNavClass} data-name="payment" onclick={handleNavigation}><img class="medium" src={bankcardBlue}><span class="normal">Payment</span></div>
            </div>
            <div class="donation-form-steps">
                <div class={amountStepClass}>
                    <div class="donation-type">
                        <h3>{donationFrequencyPrompt}</h3>
                        <div class="select-block">
                            <button class={onceTypeClass} data-value="one-off" onclick={handleDonationType}>Once</button>
                            <button class={monthlyTypeClass} data-value="monthly" onclick={handleDonationType}>Monthly</button>
                        </div>
                    </div>
                    <div class="donation-amount">
                        <h3>{donationAmountPrompt}</h3>
                        <div class="select-block">
                            <template for:each={donationAmounts} for:item="donationAmount">
                                <button key={donationAmount.amount} class={donationAmount.class} data-value={donationAmount.amount} onclick={handleDonationAmount}>
                                    <img class="white-icon" src={dollarWhite}>
                                    <img class="blue-icon" src={dollarBlue}>
                                    {donationAmount.amount}</button>
                            </template>
                        </div>
                        <div class={donationAmountDescriptionClass}>
                            <template for:each={donationAmounts} for:item="donationAmount">
                                <div key={donationAmount.amount} class={donationAmount.descClass}>
                                    <img class="shape-3" src={donationAmount.imageUrl}>
                                    <p><lightning-formatted-rich-text value={donationAmount.message}></lightning-formatted-rich-text></p>
                                </div>
                            </template>
                        </div>
                        <div class="icon-input-block without-label">
                            <lightning-input type="number" formatter="decimal" step="any" label="Other amount" placeholder="Other amount" class="input-inline white without-label" value={donation.otherAmount} onchange={handleFieldChange} data-name="other-amount"></lightning-input>
                            <img class={otherAmountIconClass} src={dollarDark}>
                        </div>
                    </div>
                    <div class="donation-next-step vertical">
                        <button class={donationButtonClass} style={donationButtonStyle}  data-name="details" onclick={handleNavigation}><span>DONATE {donation.viewAmount}{donation.typeLabel}</span><img class="medium" src={donationButtonIconURL.data}></button>
                        <p class="small"><span>Through to your details</span><lightning-icon icon-name="utility:forward"></lightning-icon></p>
                    </div>
                </div>
                <div class={detailsStepClass}>
                    <div class="details-type">
                        <h3>{detailsHeaderPrompt}</h3>
                        <div class="select-block">
                            <button class={individualDetailClass} data-value="individual" onclick={handleDetailsType}>{individualLabel}</button>
                            <button class={organisationDetailClass} data-value="organisation" onclick={handleDetailsType}>{organisationLabel}</button>
                        </div>
                        <div class="short-amount-block">
                            <span class="normal"><span>{donation.typeSecondLabel}</span> donation</span>
                            <span class="normal amount-value"><lightning-formatted-number value={donation.amount} format-style="currency"></lightning-formatted-number></span>
                        </div>
                    </div>
                    <div class="fields-block">
                        <template if:true={isOrganisation}>
                            <div class="icon-input-block">
                                <lightning-input required type="text" placeholder={organisationNamePrompt} label="Organisation name" class="input-inline white organisation-input" data-name="organisation" value={contact.organisation} onchange={handleFieldChange} max-length="255" message-when-value-missing={requiredText}></lightning-input>
<!--                                <span class={organisationIconClass}>apartment</span>-->
                                <img class={organisationIconClass} src={detailsDark}>
                            </div>
                        </template>
                        <div class="two-fields-row">
                            <div class="icon-input-block firstname-input">
                                <lightning-input required type="text" placeholder={firstNamePrompt} label="First Name" class="input-inline white first-name-input" data-name="first-name" value={contact.firstName} onchange={handleFieldChange} max-length="40" message-when-value-missing={requiredText}></lightning-input>
<!--                                <span class={firstnameIconClass}>person</span>-->
                                <img class={firstnameIconClass} src={personDark}>
                            </div>
                            <lightning-input required type="text" placeholder={lastNamePrompt} label="Last Name" class="input-inline white last-name-input" data-name="last-name" value={contact.lastName} onchange={handleFieldChange} max-length="80" message-when-value-missing={requiredText}></lightning-input>
                        </div>
                        <div class="icon-input-block email-input">
                            <lightning-input required type="email" placeholder={emailAddressPrompt} label="Email address" class="input-inline white email-input-inline" data-name="email" value={contact.email} onchange={handleFieldChange} onblur={validateEmail} max-length="80" message-when-bad-input="The email address is incorrect" message-when-pattern-mismatch="The email address is incorrect" message-when-type-mismatch="The email address is incorrect" message-when-value-missing={requiredText}></lightning-input>
<!--                            <span class={emailIconClass}>mail</span>-->
                            <img class={emailIconClass} src={locationDark}>
                        </div>
                        <div class="icon-input-block phone-input" onkeydown={handlePhoneKeydown}>
                            <lightning-input required type="tel" placeholder={mobilePrompt} label="Phone Number" class="input-inline white phone-input-inline" data-name="phone" value={contact.phone} onchange={handleFieldChange} onblur={validatePhone} message-when-value-missing={requiredText}></lightning-input>
<!--                            <span class={mobilecodeIconClass}>flag</span>-->
                            <img class={mobilecodeIconClass} src={phoneDark}>
                        </div>
                        <div class="icon-input-block address-input">
                            <c-rspcaqld-google-search required placeholder={addressPrompt} label="Address" onchange={handleAddressChange} onselect={handleAddressSelect} ontype={handleAddressType} value={contact.address}></c-rspcaqld-google-search>
<!--                            <span class={addressIconClass}>house</span>-->
                            <img class={addressIconClass} src={shelterDark}>
                        </div>
                    </div>
                    <div class="donation-next-step horizontal">
                        <a class="button-link" data-name="amount" onclick={handleNavigation}><lightning-icon icon-name="utility:chevronleft"></lightning-icon></a>
                        <button style={paymentButtonStyle} class={paymentButtonClass} data-name="payment" onclick={handleNavigation}><span>{paymentButtonText}</span><img class="medium" src={paymentButtonIconURL.data}></button>
                    </div>
                </div>
                <div class={paymentStepClass}>
                    <div class="payment-type">
                        <h3>{paymentMethodPrompt}</h3>
                        <div class={paymentTypeClass}></div>
                    </div>
                    <div class="additional-info">
                        <h3>{additionalInfoLabel}</h3>
                        <div>
                            <lightning-textarea placeholder={additionalInfoPrompt} label="Personal message" class="input-textarea without-label" data-name="comments" value={donation.comments} onchange={handleFieldChange} disabled={isSubmitting}></lightning-textarea>
                            <p class="normal field-comment">For anything urgent, e.g. updating your contact preferences, please email <b>supportercare@rspcaqld.com.au</b></p>
                        </div>
                        <div class="long-amount-block">
                            <div class="long-amount-donation">
                                <div class="long-amount-donation-value">
                                    <span class="normal"><b><span>{donation.typeSecondLabel}</span> donation</b></span>
                                    <span class="normal amount-value"><lightning-formatted-number value={donation.amount} format-style="currency"></lightning-formatted-number></span>
                                </div>
                                <template if:true={isMontlhy}>
                                    <div class="long-amount-donation-desc"><span class="normal">This will be withdrawn on the <b>15th</b> of each month</span></div>
                                </template>
                            </div>
                            <div class="long-amount-fees">
                                <span class="normal">Processing fees</span>
                                <span class="normal amount-value">$0.00</span>
                            </div>
                            <div class="long-amount-total">
                                <span class="normal"><b>Total</b></span>
                                <span class="normal amount-value"><b><lightning-formatted-number value={donation.amount} format-style="currency"></lightning-formatted-number></b></span>
                            </div>
                        </div>
                        <div class="stripe-block">
                            <div>
                                <lightning-icon icon-name="utility:lock"></lightning-icon>
                                <span class="large">Secure & safe checkout</span>
                            </div>
                            <img src={stripeLogoUrl}>
                        </div>
                        <template lwc:if={isPrivacyPolicy}>
                            <c-rspcaqld-checkbox label={termsConditionsText} checked={isAgree} disabled={isSubmitting} data-name="is-agree" onchange={handleFieldChange}></c-rspcaqld-checkbox>
                        </template>
                        <template lwc:if={isNewsletterRequired}>
                            <c-rspcaqld-checkbox label={newsletterSubscriptionText} checked={isKeepUpdated} disabled={isSubmitting} data-name="is-keep-updated" onchange={handleFieldChange}></c-rspcaqld-checkbox>
                        </template>
                        <p class="medium"><lightning-formatted-rich-text value={submissionConsentText}></lightning-formatted-rich-text></p>
                    </div>
                    <div>
                        <template lwc:if={isConfirmError}><div class="confirm-error">{confirmError}</div></template>
                        <div class="donation-next-step horizontal">
                            <a class={confirmBackButtonClass} data-name="details" onclick={handleNavigation}><lightning-icon icon-name="utility:chevronleft"></lightning-icon></a>
                            <button style={confirmButtonStyle} class={confirmButtonClass} onclick={handleConfirm}><span>{confirmButtonText}</span><img class="medium" src={confirmButtonIconURL.data}></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>