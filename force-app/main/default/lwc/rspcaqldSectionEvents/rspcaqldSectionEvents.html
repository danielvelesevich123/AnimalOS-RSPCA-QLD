<template>
    <div class="page-container page-events">
        <div class="wide-width page-filters">
            <div class="cards-filters">
                <div class="main">
                    <div class="large"><lightning-input onchange={handleSearchChange} type="text" label="Search" placeholder="Enter keywords" class="input-inline" value={searchFilter}></lightning-input></div>
                    <div class="large"><c-rspcaqld-picklist multiselect onchange={handleCategoryChange} label="Category" placeholder="Pick a category" options={eventCategoryOptions.data} value={categoryFilter}></c-rspcaqld-picklist></div>
                    <div class="large"><c-rspcaqld-picklist multiselect onchange={handleLocationChange} label="Location" placeholder="Select location" options={locationOptions} value={locationFilter}></c-rspcaqld-picklist></div>
<!--                    <div class="medium"><lightning-input onchange={handleDateChange} type="date" label="Date" placeholder="Pick a category" class="input-inline" value={dateFilter}></lightning-input></div>-->

                    <div class="reset-link"><a onclick={handleReset}><span class="xmedium">Reset</span><img src={closeDark} class="small"></a></div>
                </div>
            </div>
        </div>
        <div class="wide-width page-find-pet-results-meta">
            <c-rspcaqld-cards-results-meta onorderchange={handleOrderChange}
                                           onorderdirectionchange={handleOrderDirectionChange}
                                           view-result={viewCount}
                                           all-result={allCount}
                                           order-value={orderOption}
                                           order-direction={orderDirection}
                                           order-options={orderOptions}></c-rspcaqld-cards-results-meta>
        </div>
        <div class="wide-width page-events-results">
            <template for:each={pages} for:item="page">
                <template if:true={page.displayed} key={page.pageNumber}>
                    <template for:each={page.cards} for:item="card">
                        <div key={card.record.Id}>
                            <c-rspcaqld-cards-event image-url={card.record.Campaign_Event_Image__c}
                                                    event-id={card.record.Id}
                                                    time={card.eventDate}
                                                    header={card.record.Name}
                                                    address={card.address}></c-rspcaqld-cards-event>
                        </div>
                    </template>
                </template>
            </template>
        </div>
        <div class="medium-width page-pagination">
            <c-rspcaqld-cards-pagination onpagechange={handlePageChange} page-count={pageCount} current-page={currentPage}></c-rspcaqld-cards-pagination>
        </div>
    </div>
</template>