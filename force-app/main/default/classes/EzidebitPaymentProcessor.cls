//Generated by wsdl2apex
//https://api.ezidebit.com.au/v3-5/pci?wsdl
//https://api.ezidebit.com.au/v3-5/nonpci?wsdl

public class EzidebitPaymentProcessor {
//    private final static String LIVE_ENDPOINT_URL = 'https://api.ezidebit.com.au/v3-5'; // "/nonpci" OR "/pci"
//    private final static String TEST_ENDPOINT_URL = 'https://api.demo.ezidebit.com.au/v3-5'; // "/nonpci" OR "/pci"

    private final static Integer SUCCESS_RESULT = 0;

    private final NonPCIService nonPCIService;
    private final PCIService pciService;
    private final String digitalKey;

    public EzidebitPaymentProcessor(SObject gatewayCredentials) {
        this((Payment_EziDebit_Settings__mdt) gatewayCredentials);
    }

    public EzidebitPaymentProcessor(Payment_EziDebit_Settings__mdt gatewayCredentials) {
        this.nonPCIService = new NonPCIService(gatewayCredentials.Endpoint__c);
        this.pciService = new PCIService(gatewayCredentials.Endpoint__c);
        this.digitalKey = gatewayCredentials.Digital_Key__c;
    }

    public EzidebitStructs.BPayCRN getCRN(String payerNumber, String username) {
        EzidebitPaymentProcessor.EziResponseOfDataTHgMB7oL response = this.nonPCIService.GetBPayCRN(
            this.digitalKey,
            payerNumber,
            username
        );
        if (SUCCESS_RESULT != response.Error){
            throw new vertic_Structs.InvalidDataException(response.ErrorMessage);
        }
        if (response.Data == null) {
            throw new vertic_Structs.InvalidDataException('Data is empty!');
        }

        EzidebitStructs.BPayCRN bPayCRN = new EzidebitStructs.BPayCRN();
        bPayCRN.BPayCRN = response.Data.BPayCRN;
        bPayCRN.BPayBillerCode = response.Data.BPayBillerCode;

        return bPayCRN;
    }

    public EzidebitStructs.CustomerDetails getCustomerDetails(String customerID) {
        EzidebitPaymentProcessor.EziResponseOfCustomerDetailsTHgMB7oL response = this.nonPCIService.GetCustomerDetails(
            this.digitalKey,
            customerID,
            ''
        );
        if (SUCCESS_RESULT != response.Error){
            throw new vertic_Structs.InvalidDataException(response.ErrorMessage);
        }
        if (response.Data == null) {
            throw new vertic_Structs.InvalidDataException('Data is empty!');
        }

        return (EzidebitStructs.CustomerDetails) JSON.deserialize(JSON.serialize(response.Data), EzidebitStructs.CustomerDetails.class);
    }

    /**
        This method retrieves details about the given payment.
        It can only be used to retrieve information about payments where Ezidebit was provided with a PaymentReference.
        Note that this method can only be used for scheduled direct debit payments.
     */
    public EzidebitStructs.Payment getPaymentDetail(String paymentReference) {
        EzidebitPaymentProcessor.EziResponseOfPaymentDetailTHgMB7oL response = this.nonPCIService.GetPaymentDetail(
            this.digitalKey, // Digital Key
            paymentReference // Payment Reference
        );

        if (SUCCESS_RESULT != response.Error){
            throw new vertic_Structs.InvalidDataException(response.ErrorMessage);
        }

        if (response.Data == null) {
            throw new vertic_Structs.InvalidDataException('Empty Payment Details');
        }

        EzidebitStructs.Payment payment = (EzidebitStructs.Payment) JSON.deserialize(JSON.serialize(response.Data), EzidebitStructs.Payment.class);
        payment.PaymentStatus = PAYMENT_STATUS_TO_PAYMENT_STATUS.get(response.Data.PaymentStatus);

        return payment;
    }

    /**
        This method is designed to accept requests that include both Customer (Payer) and
        Payment details in a single call.
        It will create, update or maintain a Customer and schedule the payment to be debited from the account.
        A system utilising this method will provide a unique Payer Reference
        from the integrating system as well as a unique Payment Reference for each payment.
     */
    public String addBankDebit(String yourSystemReference, String yourGeneralReference, String lastName, String firstName, String emailAddress, String mobilePhoneNumber, String paymentReference, String accountName, String bsb, String accountNumber, Decimal amount, Date debitDate){
        EzidebitPaymentProcessor.EziResponseOfNewCustomerXcXH3liW response = this.pciService.AddBankDebit(
            this.digitalKey, // Digital Key
            yourSystemReference, // Your System Reference
            yourGeneralReference, // Your General Reference
            String.isBlank(lastName) ? '?' : lastName, // Last Name
            firstName, // First Name
            emailAddress, // Email Address
            mobilePhoneNumber, // Mobile Phone Number
            paymentReference, // Payment Reference
            accountName, // Bank Account Name
            bsb, // Bank Account BSB
            accountNumber, // Bank Account Number
            // The amount to debit from your payer in cents. The system has a $2.00 minimum debit amount.
            // If you would like to debit smaller amounts please amil partner@ezidebit.com.au. E.g. $20.00 = 2000
            amount == null ? 0 : Integer.valueOf(amount * 100), // Payment Amount Cents
            (debitDate != null ? vertic_Utils.dates.dateToDateTime(debitDate) : Datetime.now()).format('yyyy-MM-dd'), // Debit Date
            String.isNotBlank(mobilePhoneNumber) ? 'YES' : 'NO', // SMS Payment Reminder
            String.isNotBlank(mobilePhoneNumber) ? 'YES' : 'NO', // SMS Failed Notification
            'NO', // SMS Expired Card
            UserInfo.getUserName() // User Name
        );

        if (SUCCESS_RESULT != response.Error){
            throw new vertic_Structs.InvalidDataException(response.ErrorMessage);
        }

        String ezidebitCustomerID = response.Data == null ? '' : String.valueOf(response.Data.CustomerRef);
        if (String.isBlank(ezidebitCustomerID)){
            throw new vertic_Structs.InvalidDataException('Empty EzidebitCustomerID');
        }

        return ezidebitCustomerID;
    }

    public Boolean changeCustomerStatus(String customerID, String status) {
        EzidebitPaymentProcessor.EziResponseOfstring response = this.nonPCIService.ChangeCustomerStatus(
            this.digitalKey,
            customerID,
            '',
            status,
            UserInfo.getUserName()
        );
        if (SUCCESS_RESULT != response.Error){
            throw new vertic_Structs.InvalidDataException(response.ErrorMessage);
        }

        return response.Data != null && 'S'.equalsIgnoreCase(response.Data);
    }

    public Boolean createSchedule(String customerID, String yourReference, String startDate, String periodType, String dayOfWeek, Integer dayOfMonth, Boolean firstWeekOfMonth, Boolean secondWeekOfMonth, Boolean thirdWeekOfMonth, Boolean fourthWeekOfMonth, Decimal amount, Integer limitToNumberOfPayments, Decimal limitToTotalAmount, Boolean keepManualPayments) {
        EzidebitPaymentProcessor.EziResponseOfstring response = this.nonPCIService.CreateSchedule(
            this.digitalKey,
            customerID,
            yourReference,
            startDate,
            periodType,
            dayOfWeek,
            dayOfMonth,
            firstWeekOfMonth == true ? 'YES' : 'NO',
            secondWeekOfMonth == true ? 'YES' : 'NO',
            thirdWeekOfMonth == true ? 'YES' : 'NO',
            fourthWeekOfMonth == true ? 'YES' : 'NO',
            amount == null ? 0 : Integer.valueOf(amount * 100),
            limitToNumberOfPayments,
            limitToTotalAmount == null ? 0 : Integer.valueOf(limitToTotalAmount * 100),
            keepManualPayments ? 'YES' : 'NO',
            UserInfo.getUserName()
        );
        if (SUCCESS_RESULT != response.Error){
            throw new vertic_Structs.InvalidDataException(response.ErrorMessage);
        }

        return response.Data != null && 'S'.equalsIgnoreCase(response.Data);
    }

    public Boolean clearSchedule(String customerID, String yourReference, Boolean keepManualPayments) {
        EzidebitPaymentProcessor.EziResponseOfstring response = this.nonPCIService.ClearSchedule(
            this.digitalKey,
            customerID,
            yourReference,
            keepManualPayments ? 'YES' : 'NO',
            UserInfo.getUserName()
        );
        if (SUCCESS_RESULT != response.Error){
            throw new vertic_Structs.InvalidDataException(response.ErrorMessage);
        }

        return response.Data != null && 'S'.equalsIgnoreCase(response.Data);
    }

    public Integer addCustomer(String yourSystemReference, String yourGeneralReference, String lastName, String firstName, String addressLine1, String addressLine2, String addressSuburb, String addressState, String addressPostCode, String emailAddress, String mobilePhoneNumber, Date contractStartDate, Boolean smsPaymentReminder, Boolean smsFailedNotification, Boolean smsExpiredCard) {
        EzidebitPaymentProcessor.EziResponseOfNewCustomerXcXH3liW response = this.nonPCIService.AddCustomer(
            this.digitalKey,
            yourSystemReference,
            yourGeneralReference,
            lastName,
            firstName,
            addressLine1,
            addressLine2,
            addressSuburb,
            addressState,
            addressPostCode,
            emailAddress,
            mobilePhoneNumber,
            String.valueOf(contractStartDate),
            smsPaymentReminder ? 'YES' : 'NO',
            smsFailedNotification ? 'YES' : 'NO',
            smsExpiredCard ? 'YES' : 'NO',
            UserInfo.getUserName()
        );
        if (SUCCESS_RESULT != response.Error) {
            throw new vertic_Structs.InvalidDataException(response.ErrorMessage);
        }
        if (response.Data == null) {
            throw new vertic_Structs.InvalidDataException('Data is empty!');
        }

        return response.Data.CustomerRef;
    }

    public List<EzidebitStructs.Payment> getPayments(String paymentType, String paymentMethod, String paymentSource, String paymentReference, String dateFrom, String dateTo, String dateField, String eziDebitCustomerID, String yourSystemReference) {
        EzidebitPaymentProcessor.EziResponseOfArrayOfPaymentTHgMB7oL response = this.nonPCIService.GetPayments(
            this.digitalKey,
            paymentType,
            paymentMethod,
            paymentSource,
            paymentReference,
            dateFrom,
            dateTo,
            dateField,
            eziDebitCustomerID,
            yourSystemReference
        );
        if (SUCCESS_RESULT != response.Error){
            throw new vertic_Structs.InvalidDataException(response.ErrorMessage);
        }
        if (response.Data == null || response.Data.Payment == null) {
            return new List<EzidebitStructs.Payment>();
        }

        List<EzidebitStructs.Payment> payments = new List<EzidebitStructs.Payment>();

        for(EzidebitPaymentProcessor.Payment paymentData: response.Data.Payment) {
            EzidebitStructs.Payment payment = (EzidebitStructs.Payment) JSON.deserialize(JSON.serialize(paymentData), EzidebitStructs.Payment.class);
            payment.PaymentStatus = PAYMENT_STATUS_TO_PAYMENT_STATUS.get(paymentData.PaymentStatus);

            payments.add(payment);
        }

        return payments;
    }

    /**
        This method allows you to process a refund for a real-time credit card payment or
        a direct debit payment from a bank account/credit card.
        Refunds can only be processed for successful payments and must reference the PaymentIDs of the original transaction.
     */
    public EzidebitStructs.RefundPayment processRefund(String paymentId, Decimal amount) {
        EzidebitPaymentProcessor.EziResponseOfRefundPaymentTHgMB7oL response = this.nonPCIService.ProcessRefund(
            this.digitalKey, // Digital Key
            paymentId, // Payment ID
            '', // Bank Receipt ID
            // E.g. $20.00 = 2000
            amount == null ? 0 : Integer.valueOf(amount * 100) // Refund Amount Cents
        );

        if (SUCCESS_RESULT != response.Error){
            throw new vertic_Structs.InvalidDataException(response.ErrorMessage);
        }

        if (response.Data == null) {
            throw new vertic_Structs.InvalidDataException('Empty Refund Details');
        }

        EzidebitStructs.RefundPayment refundPayment = (EzidebitStructs.RefundPayment) JSON.deserialize(JSON.serialize(response.Data), EzidebitStructs.RefundPayment.class);
        refundPayment.RefundResult = PAYMENT_STATUS_TO_PAYMENT_STATUS.get(refundPayment.RefundResult);

        return refundPayment;
    }

    // Common structures
    @TestVisible
    private class EziResponseOfstring {
        public String Data;
        public Integer Error;
        public String ErrorMessage;
        private String[] Data_type_info = new String[]{'Data','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] Error_type_info = new String[]{'Error','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] ErrorMessage_type_info = new String[]{'ErrorMessage','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'Data','Error','ErrorMessage'};
    }

    @TestVisible
    private class EziResponseOfNewCustomerXcXH3liW {
        public NewCustomer Data;
        public Integer Error;
        public String ErrorMessage;
        private String[] Data_type_info = new String[]{'Data','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] Error_type_info = new String[]{'Error','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] ErrorMessage_type_info = new String[]{'ErrorMessage','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'Data','Error','ErrorMessage'};
    }

    /**
     * NonPCI Service
     */
    private class NonPCIService {
        private String endpoint_x;
        private Map<String,String> inputHttpHeaders_x;
        private Map<String,String> outputHttpHeaders_x;
        private String clientCertName_x;
        private String clientCert_x;
        private String clientCertPasswd_x;
        private Integer timeout_x;
        private String[] ns_map_type_info = new String[]{'https://px.ezidebit.com.au/', 'EzidebitPaymentProcessor'};

        private NonPCIService(String endpoint) {
            this.endpoint_x = endpoint + '/nonpci';
            this.timeout_x = 120000;
        }

        private EzidebitPaymentProcessor.EziResponseOfPaymentDetailTHgMB7oL GetPaymentDetail(String DigitalKey,String PaymentReference) {
            EzidebitPaymentProcessor.GetPaymentDetail_element request_x = new EzidebitPaymentProcessor.GetPaymentDetail_element();
            request_x.DigitalKey = DigitalKey;
            request_x.PaymentReference = PaymentReference;
            EzidebitPaymentProcessor.GetPaymentDetailResponse_element response_x;
            Map<String, EzidebitPaymentProcessor.GetPaymentDetailResponse_element> response_map_x = new Map<String, EzidebitPaymentProcessor.GetPaymentDetailResponse_element>();
            response_map_x.put('response_x', response_x);
            WebServiceCallout.invoke(
                this,
                request_x,
                response_map_x,
                new String[]{endpoint_x,
                    'https://px.ezidebit.com.au/INonPCIService/GetPaymentDetail',
                    'https://px.ezidebit.com.au/',
                    'GetPaymentDetail',
                    'https://px.ezidebit.com.au/',
                    'GetPaymentDetailResponse',
                    'EzidebitPaymentProcessor.GetPaymentDetailResponse_element'}
            );
            response_x = response_map_x.get('response_x');
            return response_x.GetPaymentDetailResult;
        }

        private EzidebitPaymentProcessor.EziResponseOfstring CreateSchedule(String DigitalKey,String EziDebitCustomerID,String YourSystemReference,String ScheduleStartDate,String SchedulePeriodType,String DayOfWeek,Integer DayOfMonth,String FirstWeekOfMonth,String SecondWeekOfMonth,String ThirdWeekOfMonth,String FourthWeekOfMonth,Long PaymentAmountInCents,Integer LimitToNumberOfPayments,Long LimitToTotalAmountInCents,String KeepManualPayments,String Username) {
            EzidebitPaymentProcessor.CreateSchedule_element request_x = new EzidebitPaymentProcessor.CreateSchedule_element();
            request_x.DigitalKey = DigitalKey;
            request_x.EziDebitCustomerID = EziDebitCustomerID;
            request_x.YourSystemReference = YourSystemReference;
            request_x.ScheduleStartDate = ScheduleStartDate;
            request_x.SchedulePeriodType = SchedulePeriodType;
            request_x.DayOfWeek = DayOfWeek;
            request_x.DayOfMonth = DayOfMonth;
            request_x.FirstWeekOfMonth = FirstWeekOfMonth;
            request_x.SecondWeekOfMonth = SecondWeekOfMonth;
            request_x.ThirdWeekOfMonth = ThirdWeekOfMonth;
            request_x.FourthWeekOfMonth = FourthWeekOfMonth;
            request_x.PaymentAmountInCents = PaymentAmountInCents;
            request_x.LimitToNumberOfPayments = LimitToNumberOfPayments;
            request_x.LimitToTotalAmountInCents = LimitToTotalAmountInCents;
            request_x.KeepManualPayments = KeepManualPayments;
            request_x.Username = Username;
            EzidebitPaymentProcessor.CreateScheduleResponse_element response_x;
            Map<String, EzidebitPaymentProcessor.CreateScheduleResponse_element> response_map_x = new Map<String, EzidebitPaymentProcessor.CreateScheduleResponse_element>();
            response_map_x.put('response_x', response_x);
            WebServiceCallout.invoke(
                this,
                request_x,
                response_map_x,
                new String[]{endpoint_x,
                    'https://px.ezidebit.com.au/INonPCIService/CreateSchedule',
                    'https://px.ezidebit.com.au/',
                    'CreateSchedule',
                    'https://px.ezidebit.com.au/',
                    'CreateScheduleResponse',
                    'EzidebitPaymentProcessor.CreateScheduleResponse_element'}
            );
            response_x = response_map_x.get('response_x');
            return response_x.CreateScheduleResult;
        }


        private EzidebitPaymentProcessor.EziResponseOfstring ClearSchedule(String DigitalKey,String EziDebitCustomerID,String YourSystemReference,String KeepManualPayments,String Username) {
            EzidebitPaymentProcessor.ClearSchedule_element request_x = new EzidebitPaymentProcessor.ClearSchedule_element();
            request_x.DigitalKey = DigitalKey;
            request_x.EziDebitCustomerID = EziDebitCustomerID;
            request_x.YourSystemReference = YourSystemReference;
            request_x.KeepManualPayments = KeepManualPayments;
            request_x.Username = Username;
            EzidebitPaymentProcessor.ClearScheduleResponse_element response_x;
            Map<String, EzidebitPaymentProcessor.ClearScheduleResponse_element> response_map_x = new Map<String, EzidebitPaymentProcessor.ClearScheduleResponse_element>();
            response_map_x.put('response_x', response_x);
            WebServiceCallout.invoke(
                this,
                request_x,
                response_map_x,
                new String[]{endpoint_x,
                    'https://px.ezidebit.com.au/INonPCIService/ClearSchedule',
                    'https://px.ezidebit.com.au/',
                    'ClearSchedule',
                    'https://px.ezidebit.com.au/',
                    'ClearScheduleResponse',
                    'EzidebitPaymentProcessor.ClearScheduleResponse_element'}
            );
            response_x = response_map_x.get('response_x');
            return response_x.ClearScheduleResult;
        }

        private EzidebitPaymentProcessor.EziResponseOfNewCustomerXcXH3liW AddCustomer(String DigitalKey,String YourSystemReference,String YourGeneralReference,String LastName,String FirstName,String AddressLine1,String AddressLine2,String AddressSuburb,String AddressState,String AddressPostCode,String EmailAddress,String MobilePhoneNumber,String ContractStartDate,String SmsPaymentReminder,String SmsFailedNotification,String SmsExpiredCard,String Username) {
            EzidebitPaymentProcessor.AddCustomer_element request_x = new EzidebitPaymentProcessor.AddCustomer_element();
            request_x.DigitalKey = DigitalKey;
            request_x.YourSystemReference = YourSystemReference;
            request_x.YourGeneralReference = YourGeneralReference;
            request_x.LastName = LastName;
            request_x.FirstName = FirstName;
            request_x.AddressLine1 = AddressLine1;
            request_x.AddressLine2 = AddressLine2;
            request_x.AddressSuburb = AddressSuburb;
            request_x.AddressState = AddressState;
            request_x.AddressPostCode = AddressPostCode;
            request_x.EmailAddress = EmailAddress;
            request_x.MobilePhoneNumber = MobilePhoneNumber;
            request_x.ContractStartDate = ContractStartDate;
            request_x.SmsPaymentReminder = SmsPaymentReminder;
            request_x.SmsFailedNotification = SmsFailedNotification;
            request_x.SmsExpiredCard = SmsExpiredCard;
            request_x.Username = Username;
            EzidebitPaymentProcessor.AddCustomerResponse_element response_x;
            Map<String, EzidebitPaymentProcessor.AddCustomerResponse_element> response_map_x = new Map<String, EzidebitPaymentProcessor.AddCustomerResponse_element>();
            response_map_x.put('response_x', response_x);
            WebServiceCallout.invoke(
                this,
                request_x,
                response_map_x,
                new String[]{endpoint_x,
                    'https://px.ezidebit.com.au/INonPCIService/AddCustomer',
                    'https://px.ezidebit.com.au/',
                    'AddCustomer',
                    'https://px.ezidebit.com.au/',
                    'AddCustomerResponse',
                    'EzidebitPaymentProcessor.AddCustomerResponse_element'}
            );
            response_x = response_map_x.get('response_x');
            return response_x.AddCustomerResult;
        }

        /**
         The new status to set the customer to:
            'A’ (Active) - Is used to move your Customer to an active status to allow scheduled debits to be drawn from the Customer’s payment method.
            'H’ (Hold) - Is used to move your Customer to a non-processing status in order to temporarily stop payments from being drawn from their payment method. You will typically use this if you intend to reactivate this Customer again in the future.
            'C’ (Cancelled) - Is used to cancel the Customer record in the Ezidebit system. This is used when you have completed business with the Customer and no longer wish to manage their account. Moving a Customer to a cancelled status will delete any payments that may be scheduled, but not yet taken, from the Customer’s account.
         */
        private EzidebitPaymentProcessor.EziResponseOfstring ChangeCustomerStatus(String DigitalKey,String EziDebitCustomerID,String YourSystemReference,String NewStatus,String Username) {
            EzidebitPaymentProcessor.ChangeCustomerStatus_element request_x = new EzidebitPaymentProcessor.ChangeCustomerStatus_element();
            request_x.DigitalKey = DigitalKey;
            request_x.EziDebitCustomerID = EziDebitCustomerID;
            request_x.YourSystemReference = YourSystemReference;
            request_x.NewStatus = NewStatus;
            request_x.Username = Username;
            EzidebitPaymentProcessor.ChangeCustomerStatusResponse_element response_x;
            Map<String, EzidebitPaymentProcessor.ChangeCustomerStatusResponse_element> response_map_x = new Map<String, EzidebitPaymentProcessor.ChangeCustomerStatusResponse_element>();
            response_map_x.put('response_x', response_x);
            WebServiceCallout.invoke(
                this,
                request_x,
                response_map_x,
                new String[]{endpoint_x,
                    'https://px.ezidebit.com.au/INonPCIService/ChangeCustomerStatus',
                    'https://px.ezidebit.com.au/',
                    'ChangeCustomerStatus',
                    'https://px.ezidebit.com.au/',
                    'ChangeCustomerStatusResponse',
                    'EzidebitPaymentProcessor.ChangeCustomerStatusResponse_element'}
            );
            response_x = response_map_x.get('response_x');
            return response_x.ChangeCustomerStatusResult;
        }

        private EzidebitPaymentProcessor.EziResponseOfDataTHgMB7oL GetBPayCRN(String DigitalKey,String YourPayerNumber,String Username) {
            EzidebitPaymentProcessor.GetBPayCRN_element request_x = new EzidebitPaymentProcessor.GetBPayCRN_element();
            request_x.DigitalKey = DigitalKey;
            request_x.YourPayerNumber = YourPayerNumber;
            request_x.Username = Username;
            EzidebitPaymentProcessor.GetBPayCRNResponse_element response_x;
            Map<String, EzidebitPaymentProcessor.GetBPayCRNResponse_element> response_map_x = new Map<String, EzidebitPaymentProcessor.GetBPayCRNResponse_element>();
            response_map_x.put('response_x', response_x);
            WebServiceCallout.invoke(
                this,
                request_x,
                response_map_x,
                new String[]{endpoint_x,
                    'https://px.ezidebit.com.au/INonPCIService/GetBPayCRN',
                    'https://px.ezidebit.com.au/',
                    'GetBPayCRN',
                    'https://px.ezidebit.com.au/',
                    'GetBPayCRNResponse',
                    'EzidebitPaymentProcessor.GetBPayCRNResponse_element'}
            );
            response_x = response_map_x.get('response_x');
            return response_x.GetBPayCRNResult;
        }

        private EzidebitPaymentProcessor.EziResponseOfRefundPaymentTHgMB7oL ProcessRefund(String DigitalKey,String PaymentID,String BankReceiptID,Long RefundAmountInCents) {
            EzidebitPaymentProcessor.ProcessRefund_element request_x = new EzidebitPaymentProcessor.ProcessRefund_element();
            request_x.DigitalKey = DigitalKey;
            request_x.PaymentID = PaymentID;
            request_x.BankReceiptID = BankReceiptID;
            request_x.RefundAmountInCents = RefundAmountInCents;
            EzidebitPaymentProcessor.ProcessRefundResponse_element response_x;
            Map<String, EzidebitPaymentProcessor.ProcessRefundResponse_element> response_map_x = new Map<String, EzidebitPaymentProcessor.ProcessRefundResponse_element>();
            response_map_x.put('response_x', response_x);
            WebServiceCallout.invoke(
                this,
                request_x,
                response_map_x,
                new String[]{endpoint_x,
                    'https://px.ezidebit.com.au/INonPCIService/ProcessRefund',
                    'https://px.ezidebit.com.au/',
                    'ProcessRefund',
                    'https://px.ezidebit.com.au/',
                    'ProcessRefundResponse',
                    'EzidebitPaymentProcessor.ProcessRefundResponse_element'}
            );
            response_x = response_map_x.get('response_x');
            return response_x.ProcessRefundResult;
        }

        private EzidebitPaymentProcessor.EziResponseOfArrayOfPaymentTHgMB7oL GetPayments(String DigitalKey,String PaymentType,String PaymentMethod,String PaymentSource,String PaymentReference,String DateFrom,String DateTo,String DateField,String EziDebitCustomerID,String YourSystemReference) {
            EzidebitPaymentProcessor.GetPayments_element request_x = new EzidebitPaymentProcessor.GetPayments_element();
            request_x.DigitalKey = DigitalKey;
            request_x.PaymentType = PaymentType;
            request_x.PaymentMethod = PaymentMethod;
            request_x.PaymentSource = PaymentSource;
            request_x.PaymentReference = PaymentReference;
            request_x.DateFrom = DateFrom;
            request_x.DateTo = DateTo;
            request_x.DateField = DateField;
            request_x.EziDebitCustomerID = EziDebitCustomerID;
            request_x.YourSystemReference = YourSystemReference;

            EzidebitPaymentProcessor.GetPaymentsResponse_element response_x;
            Map<String, EzidebitPaymentProcessor.GetPaymentsResponse_element> response_map_x = new Map<String, EzidebitPaymentProcessor.GetPaymentsResponse_element>();
            response_map_x.put('response_x', response_x);
            WebServiceCallout.invoke(
                this,
                request_x,
                response_map_x,
                new String[]{endpoint_x,
                    'https://px.ezidebit.com.au/INonPCIService/GetPayments',
                    'https://px.ezidebit.com.au/',
                    'GetPayments',
                    'https://px.ezidebit.com.au/',
                    'GetPaymentsResponse',
                    'EzidebitPaymentProcessor.GetPaymentsResponse_element'}
            );
            response_x = response_map_x.get('response_x');

            return response_x.GetPaymentsResult;
        }

        private EzidebitPaymentProcessor.EziResponseOfCustomerDetailsTHgMB7oL GetCustomerDetails(String DigitalKey,String EziDebitCustomerID,String YourSystemReference) {
            EzidebitPaymentProcessor.GetCustomerDetails_element request_x = new EzidebitPaymentProcessor.GetCustomerDetails_element();
            request_x.DigitalKey = DigitalKey;
            request_x.EziDebitCustomerID = EziDebitCustomerID;
            request_x.YourSystemReference = YourSystemReference;
            EzidebitPaymentProcessor.GetCustomerDetailsResponse_element response_x;
            Map<String, EzidebitPaymentProcessor.GetCustomerDetailsResponse_element> response_map_x = new Map<String, EzidebitPaymentProcessor.GetCustomerDetailsResponse_element>();
            response_map_x.put('response_x', response_x);
            WebServiceCallout.invoke(
                this,
                request_x,
                response_map_x,
                new String[]{endpoint_x,
                    'https://px.ezidebit.com.au/INonPCIService/GetCustomerDetails',
                    'https://px.ezidebit.com.au/',
                    'GetCustomerDetails',
                    'https://px.ezidebit.com.au/',
                    'GetCustomerDetailsResponse',
                    'EzidebitPaymentProcessor.GetCustomerDetailsResponse_element'}
            );
            response_x = response_map_x.get('response_x');
            return response_x.GetCustomerDetailsResult;
        }
    }

    /**
     * PCI Service
     */
    private class PCIService {
        private String endpoint_x;
        private Map<String,String> inputHttpHeaders_x;
        private Map<String,String> outputHttpHeaders_x;
        private String clientCertName_x;
        private String clientCert_x;
        private String clientCertPasswd_x;
        private Integer timeout_x;
        private String[] ns_map_type_info = new String[]{'https://px.ezidebit.com.au/', 'EzidebitPaymentProcessor'};

        private PCIService(String endpoint) {
            this.endpoint_x = endpoint + '/pci';
            this.timeout_x = 120000;
        }

        private EzidebitPaymentProcessor.EziResponseOfNewCustomerXcXH3liW AddBankDebit(String DigitalKey,String YourSystemReference,String YourGeneralReference,String LastName,String FirstName,String EmailAddress,String MobilePhoneNumber,String PaymentReference,String BankAccountName,String BankAccountBSB,String BankAccountNumber,Long PaymentAmountInCents,String DebitDate,String SmsPaymentReminder,String SmsFailedNotification,String SmsExpiredCard,String Username) {
            EzidebitPaymentProcessor.AddBankDebit_element request_x = new EzidebitPaymentProcessor.AddBankDebit_element();
            request_x.DigitalKey = DigitalKey;
            request_x.YourSystemReference = YourSystemReference;
            request_x.YourGeneralReference = YourGeneralReference;
            request_x.LastName = LastName;
            request_x.FirstName = FirstName;
            request_x.EmailAddress = EmailAddress;
            request_x.MobilePhoneNumber = MobilePhoneNumber;
            request_x.PaymentReference = PaymentReference;
            request_x.BankAccountName = BankAccountName;
            request_x.BankAccountBSB = BankAccountBSB;
            request_x.BankAccountNumber = BankAccountNumber;
            request_x.PaymentAmountInCents = PaymentAmountInCents;
            request_x.DebitDate = DebitDate;
            request_x.SmsPaymentReminder = SmsPaymentReminder;
            request_x.SmsFailedNotification = SmsFailedNotification;
            request_x.SmsExpiredCard = SmsExpiredCard;
            request_x.Username = Username;
            EzidebitPaymentProcessor.AddBankDebitResponse_element response_x;
            Map<String, EzidebitPaymentProcessor.AddBankDebitResponse_element> response_map_x = new Map<String, EzidebitPaymentProcessor.AddBankDebitResponse_element>();
            response_map_x.put('response_x', response_x);
            WebServiceCallout.invoke(
                this,
                request_x,
                response_map_x,
                new String[]{endpoint_x,
                    'https://px.ezidebit.com.au/IPCIService/AddBankDebit',
                    'https://px.ezidebit.com.au/',
                    'AddBankDebit',
                    'https://px.ezidebit.com.au/',
                    'AddBankDebitResponse',
                    'EzidebitPaymentProcessor.AddBankDebitResponse_element'}
            );
            response_x = response_map_x.get('response_x');
            return response_x.AddBankDebitResult;
        }

    }

    @TestVisible
    private class EziResponseOfArrayOfPaymentTHgMB7oL {
        public EzidebitPaymentProcessor.ArrayOfPayment Data;
        public Integer Error;
        public String ErrorMessage;
        private String[] Data_type_info = new String[]{'Data','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] Error_type_info = new String[]{'Error','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] ErrorMessage_type_info = new String[]{'ErrorMessage','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'Data','Error','ErrorMessage'};
    }

    @TestVisible
    private class GetPaymentsResponse_element {
        public EzidebitPaymentProcessor.EziResponseOfArrayOfPaymentTHgMB7oL GetPaymentsResult;
        private String[] GetPaymentsResult_type_info = new String[]{'GetPaymentsResult','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'GetPaymentsResult'};
    }

    @TestVisible
    private class GetPayments_element {
        public String DigitalKey;
        public String PaymentType;
        public String PaymentMethod;
        public String PaymentSource;
        public String PaymentReference;
        public String DateFrom;
        public String DateTo;
        public String DateField;
        public String EziDebitCustomerID;
        public String YourSystemReference;
        private String[] DigitalKey_type_info = new String[]{'DigitalKey','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentType_type_info = new String[]{'PaymentType','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentMethod_type_info = new String[]{'PaymentMethod','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentSource_type_info = new String[]{'PaymentSource','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentReference_type_info = new String[]{'PaymentReference','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] DateFrom_type_info = new String[]{'DateFrom','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] DateTo_type_info = new String[]{'DateTo','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] DateField_type_info = new String[]{'DateField','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] EziDebitCustomerID_type_info = new String[]{'EziDebitCustomerID','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] YourSystemReference_type_info = new String[]{'YourSystemReference','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'DigitalKey','PaymentType','PaymentMethod','PaymentSource','PaymentReference','DateFrom','DateTo','DateField','EziDebitCustomerID','YourSystemReference'};
    }

    @TestVisible
    private class Payment {
        public String BankFailedReason;
        public String BankReceiptID;
        public String BankReturnCode;
        public String CustomerName;
        public DateTime DebitDate;
        public String EzidebitCustomerID;
        public String InvoiceID;
        public Double PaymentAmount;
        public String PaymentID;
        public String PaymentMethod;
        public String PaymentReference;
        public String PaymentSource;
        public String PaymentStatus;
        public Double ScheduledAmount;
        public DateTime SettlementDate;
        public Double TransactionFeeClient;
        public Double TransactionFeeCustomer;
        public DateTime TransactionTime;
        public String YourGeneralReference;
        public String YourSystemReference;
        private String[] BankFailedReason_type_info = new String[]{'BankFailedReason','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] BankReceiptID_type_info = new String[]{'BankReceiptID','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] BankReturnCode_type_info = new String[]{'BankReturnCode','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] CustomerName_type_info = new String[]{'CustomerName','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] DebitDate_type_info = new String[]{'DebitDate','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] EzidebitCustomerID_type_info = new String[]{'EzidebitCustomerID','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] InvoiceID_type_info = new String[]{'InvoiceID','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentAmount_type_info = new String[]{'PaymentAmount','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] PaymentID_type_info = new String[]{'PaymentID','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentMethod_type_info = new String[]{'PaymentMethod','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentReference_type_info = new String[]{'PaymentReference','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentSource_type_info = new String[]{'PaymentSource','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentStatus_type_info = new String[]{'PaymentStatus','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] ScheduledAmount_type_info = new String[]{'ScheduledAmount','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] SettlementDate_type_info = new String[]{'SettlementDate','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] TransactionFeeClient_type_info = new String[]{'TransactionFeeClient','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] TransactionFeeCustomer_type_info = new String[]{'TransactionFeeCustomer','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] TransactionTime_type_info = new String[]{'TransactionTime','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] YourGeneralReference_type_info = new String[]{'YourGeneralReference','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] YourSystemReference_type_info = new String[]{'YourSystemReference','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'BankFailedReason','BankReceiptID','BankReturnCode','CustomerName','DebitDate','EzidebitCustomerID','InvoiceID','PaymentAmount','PaymentID','PaymentMethod','PaymentReference','PaymentSource','PaymentStatus','ScheduledAmount','SettlementDate','TransactionFeeClient','TransactionFeeCustomer','TransactionTime','YourGeneralReference','YourSystemReference'};
    }

    @TestVisible
    private class ArrayOfPayment {
        public EzidebitPaymentProcessor.Payment[] Payment;
        private String[] Payment_type_info = new String[]{'Payment','https://px.ezidebit.com.au/',null,'0','-1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'Payment'};
    }

    @TestVisible
    public class GetBPayCRNResponse_element {
        public EzidebitPaymentProcessor.EziResponseOfDataTHgMB7oL GetBPayCRNResult;
        private String[] GetBPayCRNResult_type_info = new String[]{'GetBPayCRNResult','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'GetBPayCRNResult'};
    }

    @TestVisible
    private class EziResponseOfDataTHgMB7oL {
        public EzidebitPaymentProcessor.Data Data;
        public Integer Error;
        public String ErrorMessage;
        private String[] Data_type_info = new String[]{'Data','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] Error_type_info = new String[]{'Error','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] ErrorMessage_type_info = new String[]{'ErrorMessage','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'Data','Error','ErrorMessage'};
    }

    @TestVisible
    private class Data {
        public String BPayBillerCode;
        public String BPayCRN;
        private String[] BPayBillerCode_type_info = new String[]{'BPayBillerCode','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] BPayCRN_type_info = new String[]{'BPayCRN','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'BPayBillerCode','BPayCRN'};
    }

    @TestVisible
    public class GetBPayCRN_element {
        public String DigitalKey;
        public String YourPayerNumber;
        public String Username;
        private String[] DigitalKey_type_info = new String[]{'DigitalKey','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] YourPayerNumber_type_info = new String[]{'YourPayerNumber','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] Username_type_info = new String[]{'Username','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'DigitalKey','YourPayerNumber','Username'};
    }

    @TestVisible
    private class NewCustomer {
        public Integer CustomerRef;
        private String[] CustomerRef_type_info = new String[]{'CustomerRef','http://schemas.datacontract.org/2004/07/Ezidebit.PaymentExchange.V3_3.DataContracts',null,'0','1','false'};
        private String[] apex_schema_type_info = new String[]{'http://schemas.datacontract.org/2004/07/Ezidebit.PaymentExchange.V3_3.DataContracts','true','false'};
        private String[] field_order_type_info = new String[]{'CustomerRef'};
    }

    @TestVisible
    private class AddCustomerResponse_element {
        public EzidebitPaymentProcessor.EziResponseOfNewCustomerXcXH3liW AddCustomerResult;
        private String[] AddCustomerResult_type_info = new String[]{'AddCustomerResult','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'AddCustomerResult'};
    }

    @TestVisible
    private class AddCustomer_element {
        public String DigitalKey;
        public String YourSystemReference;
        public String YourGeneralReference;
        public String LastName;
        public String FirstName;
        public String AddressLine1;
        public String AddressLine2;
        public String AddressSuburb;
        public String AddressState;
        public String AddressPostCode;
        public String EmailAddress;
        public String MobilePhoneNumber;
        public String ContractStartDate;
        public String SmsPaymentReminder;
        public String SmsFailedNotification;
        public String SmsExpiredCard;
        public String Username;
        private String[] DigitalKey_type_info = new String[]{'DigitalKey','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] YourSystemReference_type_info = new String[]{'YourSystemReference','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] YourGeneralReference_type_info = new String[]{'YourGeneralReference','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] LastName_type_info = new String[]{'LastName','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] FirstName_type_info = new String[]{'FirstName','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] AddressLine1_type_info = new String[]{'AddressLine1','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] AddressLine2_type_info = new String[]{'AddressLine2','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] AddressSuburb_type_info = new String[]{'AddressSuburb','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] AddressState_type_info = new String[]{'AddressState','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] AddressPostCode_type_info = new String[]{'AddressPostCode','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] EmailAddress_type_info = new String[]{'EmailAddress','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] MobilePhoneNumber_type_info = new String[]{'MobilePhoneNumber','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] ContractStartDate_type_info = new String[]{'ContractStartDate','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] SmsPaymentReminder_type_info = new String[]{'SmsPaymentReminder','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] SmsFailedNotification_type_info = new String[]{'SmsFailedNotification','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] SmsExpiredCard_type_info = new String[]{'SmsExpiredCard','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] Username_type_info = new String[]{'Username','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'DigitalKey','YourSystemReference','YourGeneralReference','LastName','FirstName','AddressLine1','AddressLine2','AddressSuburb','AddressState','AddressPostCode','EmailAddress','MobilePhoneNumber','ContractStartDate','SmsPaymentReminder','SmsFailedNotification','SmsExpiredCard','Username'};
    }

    @TestVisible
    private class CreateScheduleResponse_element {
        public EzidebitPaymentProcessor.EziResponseOfstring CreateScheduleResult;
        private String[] CreateScheduleResult_type_info = new String[]{'CreateScheduleResult','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'CreateScheduleResult'};
    }

    @TestVisible
    private class CreateSchedule_element {
        public String DigitalKey;
        public String EziDebitCustomerID;
        public String YourSystemReference;
        public String ScheduleStartDate;
        public String SchedulePeriodType;
        public String DayOfWeek;
        public Integer DayOfMonth;
        public String FirstWeekOfMonth;
        public String SecondWeekOfMonth;
        public String ThirdWeekOfMonth;
        public String FourthWeekOfMonth;
        public Long PaymentAmountInCents;
        public Integer LimitToNumberOfPayments;
        public Long LimitToTotalAmountInCents;
        public String KeepManualPayments;
        public String Username;
        private String[] DigitalKey_type_info = new String[]{'DigitalKey','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] EziDebitCustomerID_type_info = new String[]{'EziDebitCustomerID','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] YourSystemReference_type_info = new String[]{'YourSystemReference','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] ScheduleStartDate_type_info = new String[]{'ScheduleStartDate','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] SchedulePeriodType_type_info = new String[]{'SchedulePeriodType','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] DayOfWeek_type_info = new String[]{'DayOfWeek','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] DayOfMonth_type_info = new String[]{'DayOfMonth','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] FirstWeekOfMonth_type_info = new String[]{'FirstWeekOfMonth','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] SecondWeekOfMonth_type_info = new String[]{'SecondWeekOfMonth','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] ThirdWeekOfMonth_type_info = new String[]{'ThirdWeekOfMonth','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] FourthWeekOfMonth_type_info = new String[]{'FourthWeekOfMonth','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentAmountInCents_type_info = new String[]{'PaymentAmountInCents','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] LimitToNumberOfPayments_type_info = new String[]{'LimitToNumberOfPayments','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] LimitToTotalAmountInCents_type_info = new String[]{'LimitToTotalAmountInCents','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] KeepManualPayments_type_info = new String[]{'KeepManualPayments','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] Username_type_info = new String[]{'Username','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'DigitalKey','EziDebitCustomerID','YourSystemReference','ScheduleStartDate','SchedulePeriodType','DayOfWeek','DayOfMonth','FirstWeekOfMonth','SecondWeekOfMonth','ThirdWeekOfMonth','FourthWeekOfMonth','PaymentAmountInCents','LimitToNumberOfPayments','LimitToTotalAmountInCents','KeepManualPayments','Username'};
    }

    @TestVisible
    private class EziResponseOfCustomerDetailsTHgMB7oL {
        public EzidebitPaymentProcessor.CustomerDetails Data;
        public Integer Error;
        public String ErrorMessage;
        private String[] Data_type_info = new String[]{'Data','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] Error_type_info = new String[]{'Error','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] ErrorMessage_type_info = new String[]{'ErrorMessage','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'Data','Error','ErrorMessage'};
    }

    @TestVisible
    private class CustomerDetails {
        public String AddressLine1;
        public String AddressLine2;
        public String AddressPostCode;
        public String AddressState;
        public String AddressSuburb;
        public DateTime ContractStartDate;
        public String CustomerFirstName;
        public String CustomerName;
        public String Email;
        public String EzidebitCustomerID;
        public String MobilePhone;
        public String PaymentMethod;
        public String PaymentPeriod;
        public String PaymentPeriodDayOfMonth;
        public String PaymentPeriodDayOfWeek;
        public String SmsExpiredCard;
        public String SmsFailedNotification;
        public String SmsPaymentReminder;
        public String StatusCode;
        public String StatusDescription;
        public Integer TotalPaymentsFailed;
        public Double TotalPaymentsFailedAmount;
        public Integer TotalPaymentsSuccessful;
        public Double TotalPaymentsSuccessfulAmount;
        public String YourGeneralReference;
        public String YourSystemReference;
        private String[] AddressLine1_type_info = new String[]{'AddressLine1','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] AddressLine2_type_info = new String[]{'AddressLine2','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] AddressPostCode_type_info = new String[]{'AddressPostCode','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] AddressState_type_info = new String[]{'AddressState','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] AddressSuburb_type_info = new String[]{'AddressSuburb','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] ContractStartDate_type_info = new String[]{'ContractStartDate','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] CustomerFirstName_type_info = new String[]{'CustomerFirstName','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] CustomerName_type_info = new String[]{'CustomerName','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] Email_type_info = new String[]{'Email','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] EzidebitCustomerID_type_info = new String[]{'EzidebitCustomerID','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] MobilePhone_type_info = new String[]{'MobilePhone','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentMethod_type_info = new String[]{'PaymentMethod','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentPeriod_type_info = new String[]{'PaymentPeriod','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentPeriodDayOfMonth_type_info = new String[]{'PaymentPeriodDayOfMonth','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentPeriodDayOfWeek_type_info = new String[]{'PaymentPeriodDayOfWeek','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] SmsExpiredCard_type_info = new String[]{'SmsExpiredCard','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] SmsFailedNotification_type_info = new String[]{'SmsFailedNotification','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] SmsPaymentReminder_type_info = new String[]{'SmsPaymentReminder','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] StatusCode_type_info = new String[]{'StatusCode','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] StatusDescription_type_info = new String[]{'StatusDescription','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] TotalPaymentsFailed_type_info = new String[]{'TotalPaymentsFailed','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] TotalPaymentsFailedAmount_type_info = new String[]{'TotalPaymentsFailedAmount','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] TotalPaymentsSuccessful_type_info = new String[]{'TotalPaymentsSuccessful','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] TotalPaymentsSuccessfulAmount_type_info = new String[]{'TotalPaymentsSuccessfulAmount','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] YourGeneralReference_type_info = new String[]{'YourGeneralReference','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] YourSystemReference_type_info = new String[]{'YourSystemReference','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'AddressLine1','AddressLine2','AddressPostCode','AddressState','AddressSuburb','ContractStartDate','CustomerFirstName','CustomerName','Email','EzidebitCustomerID','MobilePhone','PaymentMethod','PaymentPeriod','PaymentPeriodDayOfMonth','PaymentPeriodDayOfWeek','SmsExpiredCard','SmsFailedNotification','SmsPaymentReminder','StatusCode','StatusDescription','TotalPaymentsFailed','TotalPaymentsFailedAmount','TotalPaymentsSuccessful','TotalPaymentsSuccessfulAmount','YourGeneralReference','YourSystemReference'};
    }

    @TestVisible
    private class GetCustomerDetails_element {
        public String DigitalKey;
        public String EziDebitCustomerID;
        public String YourSystemReference;
        private String[] DigitalKey_type_info = new String[]{'DigitalKey','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] EziDebitCustomerID_type_info = new String[]{'EziDebitCustomerID','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] YourSystemReference_type_info = new String[]{'YourSystemReference','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'DigitalKey','EziDebitCustomerID','YourSystemReference'};
    }

    @TestVisible
    private class GetCustomerDetailsResponse_element {
        public EzidebitPaymentProcessor.EziResponseOfCustomerDetailsTHgMB7oL GetCustomerDetailsResult;
        private String[] GetCustomerDetailsResult_type_info = new String[]{'GetCustomerDetailsResult','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'GetCustomerDetailsResult'};
    }

    @TestVisible
    private class ChangeCustomerStatus_element {
        public String DigitalKey;
        public String EziDebitCustomerID;
        public String YourSystemReference;
        public String NewStatus;
        public String Username;
        private String[] DigitalKey_type_info = new String[]{'DigitalKey','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] EziDebitCustomerID_type_info = new String[]{'EziDebitCustomerID','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] YourSystemReference_type_info = new String[]{'YourSystemReference','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] NewStatus_type_info = new String[]{'NewStatus','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] Username_type_info = new String[]{'Username','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'DigitalKey','EziDebitCustomerID','YourSystemReference','NewStatus','Username'};
    }

    @TestVisible
    private class ChangeCustomerStatusResponse_element {
        public EzidebitPaymentProcessor.EziResponseOfstring ChangeCustomerStatusResult;
        private String[] ChangeCustomerStatusResult_type_info = new String[]{'ChangeCustomerStatusResult','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'ChangeCustomerStatusResult'};
    }

    @TestVisible
    private class ClearSchedule_element {
        public String DigitalKey;
        public String EziDebitCustomerID;
        public String YourSystemReference;
        public String KeepManualPayments;
        public String Username;
        private String[] DigitalKey_type_info = new String[]{'DigitalKey','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] EziDebitCustomerID_type_info = new String[]{'EziDebitCustomerID','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] YourSystemReference_type_info = new String[]{'YourSystemReference','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] KeepManualPayments_type_info = new String[]{'KeepManualPayments','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] Username_type_info = new String[]{'Username','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'DigitalKey','EziDebitCustomerID','YourSystemReference','KeepManualPayments','Username'};
    }

    @TestVisible
    private class ClearScheduleResponse_element {
        public EzidebitPaymentProcessor.EziResponseOfstring ClearScheduleResult;
        private String[] ClearScheduleResult_type_info = new String[]{'ClearScheduleResult','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'ClearScheduleResult'};
    }

    @TestVisible
    private class AddBankDebit_element {
        public String DigitalKey;
        public String YourSystemReference;
        public String YourGeneralReference;
        public String LastName;
        public String FirstName;
        public String EmailAddress;
        public String MobilePhoneNumber;
        public String PaymentReference;
        public String BankAccountName;
        public String BankAccountBSB;
        public String BankAccountNumber;
        public Long PaymentAmountInCents;
        public String DebitDate;
        public String SmsPaymentReminder;
        public String SmsFailedNotification;
        public String SmsExpiredCard;
        public String Username;
        private String[] DigitalKey_type_info = new String[]{'DigitalKey','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] YourSystemReference_type_info = new String[]{'YourSystemReference','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] YourGeneralReference_type_info = new String[]{'YourGeneralReference','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] LastName_type_info = new String[]{'LastName','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] FirstName_type_info = new String[]{'FirstName','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] EmailAddress_type_info = new String[]{'EmailAddress','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] MobilePhoneNumber_type_info = new String[]{'MobilePhoneNumber','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentReference_type_info = new String[]{'PaymentReference','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] BankAccountName_type_info = new String[]{'BankAccountName','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] BankAccountBSB_type_info = new String[]{'BankAccountBSB','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] BankAccountNumber_type_info = new String[]{'BankAccountNumber','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentAmountInCents_type_info = new String[]{'PaymentAmountInCents','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] DebitDate_type_info = new String[]{'DebitDate','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] SmsPaymentReminder_type_info = new String[]{'SmsPaymentReminder','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] SmsFailedNotification_type_info = new String[]{'SmsFailedNotification','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] SmsExpiredCard_type_info = new String[]{'SmsExpiredCard','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] Username_type_info = new String[]{'Username','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'DigitalKey','YourSystemReference','YourGeneralReference','LastName','FirstName','EmailAddress','MobilePhoneNumber','PaymentReference','BankAccountName','BankAccountBSB','BankAccountNumber','PaymentAmountInCents','DebitDate','SmsPaymentReminder','SmsFailedNotification','SmsExpiredCard','Username'};
    }

    @TestVisible
    private class AddBankDebitResponse_element {
        public EzidebitPaymentProcessor.EziResponseOfNewCustomerXcXH3liW AddBankDebitResult;
        private String[] AddBankDebitResult_type_info = new String[]{'AddBankDebitResult','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'AddBankDebitResult'};
    }

    @TestVisible
    private class EziResponseOfPaymentDetailTHgMB7oL {
        public EzidebitPaymentProcessor.PaymentDetail Data;
        public Integer Error;
        public String ErrorMessage;
        private String[] Data_type_info = new String[]{'Data','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] Error_type_info = new String[]{'Error','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] ErrorMessage_type_info = new String[]{'ErrorMessage','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'Data','Error','ErrorMessage'};
    }

    @TestVisible
    private class PaymentDetail {
        public String BankFailedReason;
        public String BankReturnCode;
        public DateTime DebitDate;
        public String InvoiceID;
        public Double PaymentAmount;
        public String PaymentID;
        public String PaymentMethod;
        public String PaymentReference;
        public String PaymentStatus;
        public Double ScheduledAmount;
        public DateTime SettlementDate;
        public Double TransactionFeeClient;
        public Double TransactionFeeCustomer;
        public String YourGeneralReference;
        public String YourSystemReference;
        private String[] BankFailedReason_type_info = new String[]{'BankFailedReason','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] BankReturnCode_type_info = new String[]{'BankReturnCode','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] DebitDate_type_info = new String[]{'DebitDate','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] InvoiceID_type_info = new String[]{'InvoiceID','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentAmount_type_info = new String[]{'PaymentAmount','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] PaymentID_type_info = new String[]{'PaymentID','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentMethod_type_info = new String[]{'PaymentMethod','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentReference_type_info = new String[]{'PaymentReference','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentStatus_type_info = new String[]{'PaymentStatus','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] ScheduledAmount_type_info = new String[]{'ScheduledAmount','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] SettlementDate_type_info = new String[]{'SettlementDate','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] TransactionFeeClient_type_info = new String[]{'TransactionFeeClient','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] TransactionFeeCustomer_type_info = new String[]{'TransactionFeeCustomer','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] YourGeneralReference_type_info = new String[]{'YourGeneralReference','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] YourSystemReference_type_info = new String[]{'YourSystemReference','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'BankFailedReason','BankReturnCode','DebitDate','InvoiceID','PaymentAmount','PaymentID','PaymentMethod','PaymentReference','PaymentStatus','ScheduledAmount','SettlementDate','TransactionFeeClient','TransactionFeeCustomer','YourGeneralReference','YourSystemReference'};
    }

    @TestVisible
    private class GetPaymentDetail_element {
        public String DigitalKey;
        public String PaymentReference;
        private String[] DigitalKey_type_info = new String[]{'DigitalKey','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentReference_type_info = new String[]{'PaymentReference','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'DigitalKey','PaymentReference'};
    }

    @TestVisible
    private class GetPaymentDetailResponse_element {
        public EzidebitPaymentProcessor.EziResponseOfPaymentDetailTHgMB7oL GetPaymentDetailResult;
        private String[] GetPaymentDetailResult_type_info = new String[]{'GetPaymentDetailResult','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'GetPaymentDetailResult'};
    }

    @TestVisible
    private class EziResponseOfRefundPaymentTHgMB7oL {
        public EzidebitPaymentProcessor.RefundPayment Data;
        public Integer Error;
        public String ErrorMessage;
        private String[] Data_type_info = new String[]{'Data','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] Error_type_info = new String[]{'Error','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] ErrorMessage_type_info = new String[]{'ErrorMessage','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'Data','Error','ErrorMessage'};
    }

    @TestVisible
    private class RefundPayment {
        public Integer BankReceiptID;
        public Integer RefundPaymentID;
        public String RefundResult;
        public String RefundResultCode;
        public String RefundResultText;
        private String[] BankReceiptID_type_info = new String[]{'BankReceiptID','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] RefundPaymentID_type_info = new String[]{'RefundPaymentID','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] RefundResult_type_info = new String[]{'RefundResult','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] RefundResultCode_type_info = new String[]{'RefundResultCode','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] RefundResultText_type_info = new String[]{'RefundResultText','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'BankReceiptID','RefundPaymentID','RefundResult','RefundResultCode','RefundResultText'};
    }

    @TestVisible
    private class ProcessRefund_element {
        public String DigitalKey;
        public String PaymentID;
        public String BankReceiptID;
        public Long RefundAmountInCents;
        private String[] DigitalKey_type_info = new String[]{'DigitalKey','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] PaymentID_type_info = new String[]{'PaymentID','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] BankReceiptID_type_info = new String[]{'BankReceiptID','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] RefundAmountInCents_type_info = new String[]{'RefundAmountInCents','https://px.ezidebit.com.au/',null,'0','1','false'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'DigitalKey','PaymentID','BankReceiptID','RefundAmountInCents'};
    }

    @TestVisible
    private class ProcessRefundResponse_element {
        public EzidebitPaymentProcessor.EziResponseOfRefundPaymentTHgMB7oL ProcessRefundResult;
        private String[] ProcessRefundResult_type_info = new String[]{'ProcessRefundResult','https://px.ezidebit.com.au/',null,'0','1','true'};
        private String[] apex_schema_type_info = new String[]{'https://px.ezidebit.com.au/','true','false'};
        private String[] field_order_type_info = new String[]{'ProcessRefundResult'};
    }

    private static final Map<String, String> PAYMENT_STATUS_TO_PAYMENT_STATUS = new Map<String, String> {
        'W' => 'Pending',
        'P' => 'Pending',
        'S' => 'Processed',
        'A' => 'Processed',
        'D' => 'Dishonoured',
        'U' => 'Failed',
        'F' => 'Failed'
    };

}