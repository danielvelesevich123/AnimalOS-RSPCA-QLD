<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>58.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>ASSIGN_Anonymous_Company_Name</name>
        <label>ASSIGN Anonymous Company Name</label>
        <locationX>731</locationX>
        <locationY>1022</locationY>
        <assignmentItems>
            <assignToReference>Company_Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Anonymous</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>GET_Account</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>ASSIGN_Campaign_Name</name>
        <label>ASSIGN Campaign Name</label>
        <locationX>381</locationX>
        <locationY>517</locationY>
        <assignmentItems>
            <assignToReference>Campaign_Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Partner donations National - WPG</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>GET_Campaign</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>ASSIGN_Campaign_Name_0</name>
        <label>ASSIGN Campaign Name</label>
        <locationX>537</locationX>
        <locationY>520</locationY>
        <assignmentItems>
            <assignToReference>Campaign_Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Partner Donations National - WPG Matched</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>GET_Campaign</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>ASSIGN_Campaign_Name_0_0</name>
        <label>ASSIGN Campaign Name</label>
        <locationX>690</locationX>
        <locationY>519</locationY>
        <assignmentItems>
            <assignToReference>Campaign_Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Partner Donations National - Cash</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>GET_Campaign</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>ASSIGN_Fault_Message</name>
        <label>ASSIGN Fault Message</label>
        <locationX>264</locationX>
        <locationY>265</locationY>
        <assignmentItems>
            <assignToReference>FlowFaultMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>This row&apos;s Payment Category cannot be processed.</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>ASSIGN_Fault_Message_0</name>
        <label>ASSIGN Fault Message</label>
        <locationX>1108</locationX>
        <locationY>1152</locationY>
        <assignmentItems>
            <assignToReference>FlowFaultMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <decisions>
        <name>DECISION_Anonymous_Account</name>
        <label>DECISION Anonymous Account</label>
        <locationX>529</locationX>
        <locationY>899</locationY>
        <defaultConnector>
            <targetReference>GET_Account</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Account_is_Anonymous</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Company_Name</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Company_Name</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Company_Name</leftValueReference>
                <operator>EqualTo</operator>
            </conditions>
            <connector>
                <targetReference>ASSIGN_Anonymous_Company_Name</targetReference>
            </connector>
            <label>Account is Anonymous</label>
        </rules>
    </decisions>
    <decisions>
        <name>DECISION_Payment_Category</name>
        <label>DECISION Payment Category</label>
        <locationX>528</locationX>
        <locationY>266</locationY>
        <defaultConnector>
            <targetReference>ASSIGN_Fault_Message</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Unhandled Category</defaultConnectorLabel>
        <rules>
            <name>Individual_Donations</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Payment_Category</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Individual Donations</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ASSIGN_Campaign_Name_0_0</targetReference>
            </connector>
            <label>Individual Donations</label>
        </rules>
        <rules>
            <name>Workplace_Donations</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Payment_Category</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Workplace Donations</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ASSIGN_Campaign_Name</targetReference>
            </connector>
            <label>Workplace Donations</label>
        </rules>
        <rules>
            <name>Workplace_Corporates</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Payment_Category</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Workplace Corporates</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ASSIGN_Campaign_Name_0</targetReference>
            </connector>
            <label>Workplace Corporates</label>
        </rules>
    </decisions>
    <decisions>
        <name>VALIDATE_Account</name>
        <label>VALIDATE Account</label>
        <locationX>529</locationX>
        <locationY>1355</locationY>
        <defaultConnector>
            <targetReference>GET_Donation_Record_Type_Id</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Account Does NOT Exist</defaultConnectorLabel>
        <rules>
            <name>Account_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GET_Account</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>GET_Organisation_Account_Record_Type</targetReference>
            </connector>
            <label>Account Exists</label>
        </rules>
    </decisions>
    <description>CSV to Flow import for Monthly Distribution Data sheet</description>
    <environments>Default</environments>
    <interviewLabel>CSV Import - Monthly Distribution Data {!$Flow.CurrentDateTime}</interviewLabel>
    <label>CSV Import - Monthly Distribution Data</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>CREATE_Account</name>
        <label>CREATE Account</label>
        <locationX>308</locationX>
        <locationY>1532</locationY>
        <assignRecordIdToReference>GET_Account.Id</assignRecordIdToReference>
        <connector>
            <targetReference>GET_Donation_Record_Type_Id</targetReference>
        </connector>
        <faultConnector>
            <targetReference>ASSIGN_Fault_Message_0</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>Company_Name</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>GET_Organisation_Account_Record_Type.Id</elementReference>
            </value>
        </inputAssignments>
        <object>Account</object>
    </recordCreates>
    <recordCreates>
        <name>CREATE_Opportunity</name>
        <label>CREATE Opportunity</label>
        <locationX>805</locationX>
        <locationY>1532</locationY>
        <assignRecordIdToReference>Opportunity_Id</assignRecordIdToReference>
        <connector>
            <targetReference>CREATE_Payment</targetReference>
        </connector>
        <faultConnector>
            <targetReference>ASSIGN_Fault_Message_0</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>GET_Account.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Amount</field>
            <value>
                <elementReference>QLD_Amount</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CampaignId</field>
            <value>
                <elementReference>GET_Campaign.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CloseDate</field>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description</field>
            <value>
                <stringValue>Imported from Monthly Distribution Data sheet</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <stringValue>Monthly Distribution Data Import Donation</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>GET_Donation_Record_Type_Id.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Closed Won</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>npe01__Do_Not_Automatically_Create_Payment__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>npsp__Acknowledgment_Status__c</field>
            <value>
                <stringValue>Do Not Acknowledge</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordCreates>
    <recordCreates>
        <name>CREATE_Payment</name>
        <label>CREATE Payment</label>
        <locationX>1080</locationX>
        <locationY>1532</locationY>
        <faultConnector>
            <targetReference>ASSIGN_Fault_Message_0</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>npe01__Opportunity__c</field>
            <value>
                <elementReference>Opportunity_Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>npe01__Paid__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>npe01__Payment_Amount__c</field>
            <value>
                <elementReference>QLD_Amount</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>npe01__Payment_Date__c</field>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>npe01__Payment_Method__c</field>
            <value>
                <stringValue>Cash</stringValue>
            </value>
        </inputAssignments>
        <object>npe01__OppPayment__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordLookups>
        <name>GET_Account</name>
        <label>GET Account</label>
        <locationX>537</locationX>
        <locationY>1136</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>VALIDATE_Account</targetReference>
        </connector>
        <faultConnector>
            <targetReference>ASSIGN_Fault_Message_0</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Company_Name</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>GET_Campaign</name>
        <label>GET Campaign</label>
        <locationX>537</locationX>
        <locationY>715</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>DECISION_Anonymous_Account</targetReference>
        </connector>
        <faultConnector>
            <targetReference>ASSIGN_Fault_Message_0</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Campaign_Name</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Campaign</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>GET_Donation_Record_Type_Id</name>
        <label>GET Donation Record Type Id</label>
        <locationX>536</locationX>
        <locationY>1532</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>CREATE_Opportunity</targetReference>
        </connector>
        <faultConnector>
            <targetReference>ASSIGN_Fault_Message_0</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Opportunity</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Donation</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>GET_Organisation_Account_Record_Type</name>
        <label>GET Organisation Account Record Type</label>
        <locationX>308</locationX>
        <locationY>1352</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>CREATE_Account</targetReference>
        </connector>
        <faultConnector>
            <targetReference>ASSIGN_Fault_Message_0</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Account</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Organization</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <start>
        <locationX>410</locationX>
        <locationY>48</locationY>
        <connector>
            <targetReference>DECISION_Payment_Category</targetReference>
        </connector>
    </start>
    <status>Draft</status>
    <variables>
        <name>Campaign_Name</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Company_Name</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>FlowFaultMessage</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>Opportunity_Id</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Payment_Category</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>QLD_Amount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
</Flow>
